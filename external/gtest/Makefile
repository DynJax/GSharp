#------------------------------------------------------------------------------#
# This makefile was generated by 'cbp2make' tool rev.147                       #
#------------------------------------------------------------------------------#


WORKDIR = `pwd`

CC = gcc
CXX = g++
AR = ar
LD = g++
WINDRES = windres

INC = -I. -Iinclude
CFLAGS = 
RESINC = 
LIBDIR = 
LIB = 
LDFLAGS = 

INC_TEST = $(INC)
CFLAGS_TEST = $(CFLAGS) -O2 -Wall -std=c++11
RESINC_TEST = $(RESINC)
RCFLAGS_TEST = $(RCFLAGS)
LIBDIR_TEST = $(LIBDIR)
LIB_TEST = $(LIB)
LDFLAGS_TEST = $(LDFLAGS) -s
OBJDIR_TEST = obj/Test
DEP_TEST = 
OUT_TEST = lib/libgtest.a

OBJ_TEST = $(OBJDIR_TEST)/src/gtest-all.o

INC_MAIN = $(INC)
CFLAGS_MAIN = $(CFLAGS) -Wall -O2
RESINC_MAIN = $(RESINC)
RCFLAGS_MAIN = $(RCFLAGS)
LIBDIR_MAIN = $(LIBDIR)
LIB_MAIN = $(LIB)
LDFLAGS_MAIN = $(LDFLAGS) -s
OBJDIR_MAIN = obj/Main
DEP_MAIN = 
OUT_MAIN = lib/libgtest_main.a

OBJ_MAIN = $(OBJDIR_MAIN)/src/gtest_main.o

all: test main

clean: clean_test clean_main

before_test: 
	test -d lib || mkdir -p lib
	test -d $(OBJDIR_TEST)/src || mkdir -p $(OBJDIR_TEST)/src

after_test: 

test: before_test out_test after_test

out_test: before_test $(OBJ_TEST) $(DEP_TEST)
	$(AR) rcs $(OUT_TEST) $(OBJ_TEST)

$(OBJDIR_TEST)/src/gtest-all.o: src/gtest-all.cc
	$(CC) $(CFLAGS_TEST) $(INC_TEST) -c src/gtest-all.cc -o $(OBJDIR_TEST)/src/gtest-all.o

clean_test: 
	rm -f $(OBJ_TEST) $(OUT_TEST)
	rm -rf lib
	rm -rf $(OBJDIR_TEST)/src

before_main: 
	test -d lib || mkdir -p lib
	test -d $(OBJDIR_MAIN)/src || mkdir -p $(OBJDIR_MAIN)/src

after_main: 

main: before_main out_main after_main

out_main: before_main $(OBJ_MAIN) $(DEP_MAIN)
	$(AR) rcs $(OUT_MAIN) $(OBJ_MAIN)

$(OBJDIR_MAIN)/src/gtest_main.o: src/gtest_main.cc
	$(CC) $(CFLAGS_MAIN) $(INC_MAIN) -c src/gtest_main.cc -o $(OBJDIR_MAIN)/src/gtest_main.o

clean_main: 
	rm -f $(OBJ_MAIN) $(OUT_MAIN)
	rm -rf lib
	rm -rf $(OBJDIR_MAIN)/src

.PHONY: before_test after_test clean_test before_main after_main clean_main

